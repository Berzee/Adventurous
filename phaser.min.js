Adventurous.Util={areConditionsMet:function(b){if(b){for(var a=0;a<b.length;a++){if(!this.isConditionMet(b[a])){return false}}}return true},isConditionMet:function(a){switch(a.type){case"flagTrue":return(Adventurous.flags[a.name]==true);break;case"flagFalse":return(Adventurous.flags[a.name]!=true);break;case"hasNotItem":return(!currentState.inventory.hasItem(a.name));break;case"hasItem":return(currentState.inventory.hasItem(a.name));break}},isMouseOverObject:function(a){return(game.input.mousePointer.x>=a.x-a.width*a.anchor.x&&game.input.mousePointer.x<=a.x+a.width-a.width*a.anchor.x&&game.input.mousePointer.y>=a.y&&game.input.mousePointer.y<=a.y+a.height)},calculateDialogueMinTime:function(b){var c=Adventurous.options.textSpeed+0.5;var a=c*Adventurous.Constants.DIALOGUE_DEFAULT_WPM;if(b==null){return 0}else{return Math.max(b.split(" ").length*60*1000/a,Adventurous.Constants.DIALOGUE_MIN_TIME)}},save:function(a){var e={};e.flags=Adventurous.flags;e.options=Adventurous.options;e.data=currentState.toSaveObject();var b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var c=new Date();var g=j[c.getDay()]+" "+b[c.getMonth()]+" "+c.getDate()+", "+c.getFullYear();var i=c.getHours();var d=c.getMinutes();if(d<10){d="0"+d}var h="am";if(i>11){h="pm"}if(c.getHours()>12){i-=12}g+="\n"+i+":"+d+h;e.timestamp=g;if(Adventurous.backgroundMusic!=null){e.backgroundMusic=Adventurous.backgroundMusic.name}var f=localStorage.getItem(Adventurous.Constants.LOCALSTORAGE_KEY);if(f==null){f={};f.saves={};f.options={}}else{f=JSON.parse(f)}f.saves[a]=e;localStorage.setItem(Adventurous.Constants.LOCALSTORAGE_KEY,JSON.stringify(f))},load:function(a){var c=localStorage.getItem(Adventurous.Constants.LOCALSTORAGE_KEY);if(c!=null){c=JSON.parse(c);if(c!=null&&c.saves!=null&&c.saves[a]!=null){var b=c.saves[a];if(b.backgroundMusic!=null){if(Adventurous.backgroundMusic==null||Adventurous.backgroundMusic.name!=b.backgroundMusic){if(Adventurous.backgroundMusic!=null){Adventurous.backgroundMusic.stop()}Adventurous.backgroundMusic=game.add.audio(b.backgroundMusic);Adventurous.backgroundMusic.volume=Adventurous.options.musicVolume;Adventurous.backgroundMusic.loop=true;Adventurous.backgroundMusic.play()}}currentState.loadFromObject(b)}}}};